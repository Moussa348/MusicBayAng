<!--Section Navbar-->
<div class="container text-center " style="font-family: 'Times New Roman', Times, serif;">
  <div class="row">
    <nav
      class="navbar  navbar-expand-lg navbar-dark bg-dark fixed-top border-dark rounded shadow-lg"
      style="background: transparent;"
      >
      <i
      class="fas fa-compact-disc fa-3x text-light btn"
      [routerLink]="['/welcome']"
    ></i>
    <button class="navbar-toggler" type="button" (click)="isMenuCollapsed = !isMenuCollapsed">
      &#9776;
    </button>
      <div class="collapse navbar-collapse justify-content-between" id="nav" [ngbCollapse]="isMenuCollapsed">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a
              class="nav-link text-uppercase font-weight px-3 font-weight-bold text-light" 
              [routerLink]="['/home']" 
              >HOME<i class="fas fa-home"></i></a
            >
          </li>
          <li class="nav-item" *ngIf="isLoggedIn()">
            <a
              class="nav-link text-uppercase font-weight px-3 text-light"
              [routerLink]="['/profile',username]" 
              >Profile<i class="fas fa-user-circle"></i></a
            >
          </li>

          <li class="nav-item">
            <a
              [routerLink]="['/catalog']" 
              class="nav-link text-uppercase font-weight px-3 text-light"
              >Catalog<i class="fas fa-music"></i></a
            >
          </li>

          <li class="nav-item" *ngIf="isLoggedIn()">
            <a
              [routerLink]="['/feed']" 
              class="nav-link text-uppercase font-weight px-3 text-light"
              >FEED<i class="fas fa-rss"></i></a
            >
          </li>
          <li class="nav-item dropdown" *ngIf="isLoggedIn()">
            <a
              class="nav-link btn text-uppercase font-weight px-3 dropdown text-light dropdown-toggle" id="convDropdown" data-bs-toggle="dropdown" aria-expanded="false"
              >CONVERSATION<i class="fas fa-comments"></i></a
            >
            <div class="dropdown-menu" aria-labelledby="convDropdown" style="overflow-x:auto;overflow-y:auto;" >
              <app-list-last-sent-message class="w-100" (click)="$event.stopPropagation()" ></app-list-last-sent-message>
            </div>
          </li>
        </ul>
      </div>
      <div class="collapse navbar-collapse justify-content-end text-light" id="nav" [ngbCollapse]="isMenuCollapsed">
        <ul class="navbar-nav">
          <li class="nav-item d-flex justify-content-center">
              <app-user-search-bar [username]="username" [componentTag]="getComponentTag()" style="width: 200px;"></app-user-search-bar>
          </li>
          <li class="nav-item dropdown" *ngIf="isLoggedIn()">
            <a
            (click)="openNotification = !openNotification"
              class="nav-link btn text-uppercase font-weight px-3 dropdown text-light dropdown-toggle" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false"
              >Notification<i class="fas fa-bell"></i></a
            >

            <div class="dropdown-menu" aria-labelledby="notificationDropdown" style="overflow-x:auto;overflow-y:auto;" >
              <app-notification class="w-100" *ngIf="showNotification()" (click)="$event.stopPropagation()"></app-notification>
            </div>
          </li>
          <li class="nav-item dropdown" *ngIf="isLoggedIn()">
              <a 
              (click)="openCart = !openCart"
              class="nav-link btn text-uppercase font-weight px-3 dropdown text-light dropdown-toggle dropstart" id="cartDropDown" data-bs-toggle="dropdown" aria-expanded="false"
              id="navbarDropdownMenuLink"
              >CART<i class="fas fa-shopping-cart"></i></a>

            <div class="dropdown-menu" aria-labelledby="cartDropDown" style="overflow-x:auto;overflow-y:auto;" (click)="openCart = !openCart" >
              <app-cart class="w-100 bg-dark" *ngIf="showCart()" (click)="$event.stopPropagation()"></app-cart>
            </div>

          </li>
          <li class="nav-item" *ngIf="!isLoggedIn()">
            <a
              [routerLink]="['/registration']" 
              class="nav-link text-uppercase px-3 text-light"
              >Registration<i class="fas fa-user-plus"></i></a
            >
          </li>
          <li class="nav-item">
            <a
              [routerLink]="['/login']" 
              class="nav-link text-uppercase px-3 text-light"
              >{{isLoggedIn()?'LOGOUT':'LOGIN'}}<i class="fas {{isLoggedIn()?'fa-lock-open':'fa-lock'}}"></i
            ></a>
          </li>
        </ul>
      </div>
    </nav>
  </div>
</div>